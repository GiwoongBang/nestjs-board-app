# Backend-Nestjs 심화 프로젝트 🏗️

Nest.js 기반의 백엔드 기술을 실무 중심으로 빠르게 학습하고, 실습해보는 프로젝트입니다. 회원가입, 로그인, 결제 등의 기본적인 기능을 직접 구현 및 리팩토링 합니다.

---

# 구현범위 🚀
auth: 회원가입/로그인 및 JWT 인증을 담당하는 모듈입니다. 이메일을 활용해 회원가입 및 로그인을 합니다. (추후 소셜로그인(구글, 애플, 네이버, 카카오) 추가 구현 예정)
boards: 게시판 전체 조회, 게시글 작성/조회/수정/삭제 기능을 제공합니다.
payment(to-do): 상품 주문 및 결제, 포인트, 쿠폰 기능을 제공합니다.

---

# 기술스택 🛠️
TypeScript + NestJS
TypeORM + MySQL

---

# 구현 기능
#### Auth 서비스 🔐
Auth 서비스는 사용자의 인증과 권한 관리를 담당하는 중요한 모듈입니다. 이 모듈은 JWT를 활용한 인증, 액세스 및 리프레시 토큰 관리, 리프레시 토큰 로테이션 및 토큰 블랙리스트 처리 등의 기능을 제공합니다.

#### 디렉토리 구조 📂
```javascript
src/auth
├── auth.module.ts
├── auth.controller.ts
├── auth.service.ts
├── get-user.decorator.ts
├── user.entity.ts
├── user.repository.ts
├── dto
│   └── auth-credential.dto.ts
├── jwt
│   ├── jwt-blacklist.entity.ts
│   ├── jwt-blacklist.repository.ts
│   └── jwt.strategy.ts
└── pipes
    └── user-signup-validation.pipe.ts
```
    
#### 주요 기능 🚀
로그인 (login)
사용자 검증: 이메일과 비밀번호를 통해 사용자를 검증합니다.
토큰 생성: 검증된 사용자에 대해 액세스 및 리프레시 토큰을 생성합니다.
토큰 갱신 (refreshAccessToken)
리프레시 토큰 검증: 제공된 리프레시 토큰을 검증하고 유효한 경우 새로운 액세스 토큰을 발급합니다.
리프레시 토큰 로테이션: 만료 기간이 남아 있더라도, 1회 사용한 리프레시 토큰은 폐기 후 재발급합니다.
로그아웃 (logout)
토큰 블랙리스트: 로그아웃 시 사용자의 현재 토큰을 블랙리스트에 추가하여 더 이상 사용할 수 없게 합니다.
토큰 블랙리스트 관리
토큰 블랙리스트에 추가 및 조회: 특정 토큰을 블랙리스트에 추가하거나 조회하는 기능을 제공합니다.
보안 및 최적화 🛡️
argon2: 비밀번호 해싱에 argon2 알고리즘을 사용하여 보안을 강화합니다.


#### Boards 서비스 🔖
Boards 서비스는 사용자의 커뮤니케이션을 위한 게시판 서비스입니다. 기본적으로 모든 사용자가 게시물을 조회할 수 있으며, 로그인한 유저의 경우, 게시글 작성/수정/삭제 기능까지 제공합니다.

#### 디렉토리 구조 📂
```javascript
src/boards
├── boards.module.ts
├── boards.controller.ts
├── boards.service.ts
├── board.repository.ts
├── board.entity.ts
├── board-status.enum.ts
├── dto
│   ├── board-response.dto.ts
│   └── create-board.dto.ts
└── pipes
    └── board-status-validation.pipe.ts
```

#### 주요 기능 🚀
게시판 (board)
게시판 조회 및 상세 게시글 조회: 별도의 로그인 없이, 누구나 게시판의 콘텐츠를 확인하고 즐길 수 있습니다.
게시글 작성/수정/삭제: 로그인 한 유저는 게시글을 작성할 수 있으며, 내가 작성한 게시글에 한해 수정 및 삭제를 할 수 있습니다.


#### Payments 서비스 💸
Payments 서비스는 원하는 제품을 구매할 수 있도록 결제를 지원합니다. 주문, 쿠폰 사용, 포인트 사용, 배송 관리 등의 서비스를 제공합니다.

#### 디렉토리 구조 📂
```javascript
```

#### 주요 기능 🚀
제품 (Product)
제품 관리: 제품명, 가격, 재고, 카테고리, 제품 사진, 설명, 제품 상태(판매중/재고 소진 등) 등을 관리합니다.
배송 정보: 주문자의 주소 정보와 배송사, 운송장 번호, 배송 상태(주문 완료/출고 준비/출고 완료/배송 중/배송 완료) 등을 관리합니다.
주문 (Order)
제품 주문: 선택한 제품의 전체 가격을 확인하고, 정액 또는 정률 등 할인 정책에 따른 할인 가격으로 주문을 합니다.
주문 완료: 제품 주문이 완료된 경우, 배송 정보를 바탕으로 주문을 완료합니다.
쿠폰 (Coupon)
쿠폰 발급: 정액 또는 정률제로 쿠폰을 발급하며, 유저가 이를 사용할 수 있도록 합니다.
쿠폰 관리: 쿠폰의 종류(정액/정률), 쿠폰이 유효한지의 여부, 사용 여부 등에 대한 데이터를 관리합니다.
포인트 (Point)
포인트 기록: 포인트의 획득 및 사용에 대한 로그 관리 기능을 제공합니다.
포인트 획득: 운영 정책에 따라 포인트를 획득할 경우, 현재의 포인트에서 정해진 포인트를 획득하여 포인트 잔액을 관리합니다.
포인트 사용: 결제 시, 포인트를 차감해 제품을 결제할 수 있도록 하며, 사용 후의 포인트 잔액을 관리합니다.


